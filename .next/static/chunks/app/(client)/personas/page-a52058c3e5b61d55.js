(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[783],{63:(e,t,s)=>{"use strict";var r=s(7260);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},9326:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var r=s(5155),n=s(2115),a=s(63);function o(e){let{text:t}=e;return(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:t})}function l(e){return(0,r.jsx)("input",{...e,className:"border border-[#EBEEF1] p-2 placeholder-[#A8A5AF] w-4/5",style:{backgroundColor:"#EFF0F4",color:"#000000"}})}function c(e){let{label:t,value:s,onChange:n,error:a}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)(o,{text:t}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(l,{type:"number",value:s,onChange:e=>{let t=Number(e.target.value);n(isNaN(t)?0:t)},placeholder:"例: 2"}),(0,r.jsx)("span",{className:"text-stone-950",children:"時間"})]}),a&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:a})]})}function i(e){let{value:t,options:s,onChange:n}=e;return(0,r.jsx)("select",{value:t,onChange:e=>n(e.target.value),className:"border rounded-md p-2 w-full",children:s.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))})}function u(e){let{value:t,onChange:s,error:n}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)(o,{text:"学習方法を教えてください"}),(0,r.jsx)(i,{value:t,onChange:s,options:[{value:"インプット先行パターン",label:"インプット先行"},{value:"アウトプット先行パターン",label:"アウトプット先行"}]}),n&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:n})]})}function d(e){let{form:t,errors:s,onChange:n,onSubmit:a}=e;return(0,r.jsx)("form",{onSubmit:e=>{e.preventDefault(),a()},className:"grid",style:{width:"295px",height:"423px",marginTop:"70px"},children:(0,r.jsxs)("div",{className:"flex flex-col",style:{gap:"24px"},children:[(0,r.jsx)(c,{label:"平日の勉強時間",value:t.weekdayHours,onChange:e=>n(t=>({...t,weekdayHours:e})),error:s.hours}),(0,r.jsx)(c,{label:"休日の勉強時間",value:t.weekendHours,onChange:e=>n(t=>({...t,weekendHours:e})),error:s.hours}),(0,r.jsx)(u,{value:t.learningPattern,onChange:e=>n(t=>({...t,learningPattern:e})),error:s.learningPattern})]})})}function x(e){let{className:t="",style:s={},label:n,onClick:a}=e;return(0,r.jsx)("button",{type:"submit",onClick:a,className:"font-semibold transition ".concat(t),style:{width:"226px",height:"60px",borderRadius:"0px",backgroundColor:"#3C436D",color:"#FFFFFF",...s},children:n})}function h(e){let{form:t,errors:s,onChange:n,onSubmit:a}=e;return(0,r.jsx)("div",{className:"relative min-h-screen min-w-screen bg-[#EBEEF1] flex justify-center items-center",children:(0,r.jsxs)("div",{className:"relative p-6 bg-white",style:{width:"335px",height:"752px",marginTop:"30px"},children:[(0,r.jsx)(d,{form:t,errors:s,onChange:n,onSubmit:a}),(0,r.jsx)(x,{className:"absolute left-1/2 transform -translate-x-1/2",style:{top:"611px"},label:"決定",onClick:a})]})})}function m(){let e=(0,a.useRouter)(),[t,s]=(0,n.useState)({weekdayHours:1,weekendHours:1,learningPattern:"インプット先行パターン"}),[o,l]=(0,n.useState)({}),c=async e=>{let t=await fetch("/api/personas",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e=await t.json().catch(()=>null)||{};throw{code:e.code||"HTTP_".concat(t.status),message:e.message||"Unexpected response: ".concat(t.status," ").concat(t.statusText),details:e.details}}return t.json()},i=async()=>{try{if(l({}),!t.learningPattern)return void l({learningPattern:"学習パターンを選択してください"});if(0===t.weekdayHours&&0===t.weekendHours)return void l({hours:"平日または休日の勉強時間を入力してください"});let s=await c(t);e.push("/personas/".concat(s.personas.personaId,"/projects"))}catch(t){let e=t instanceof TypeError&&t.message.includes("fetch")?{code:"NETWORK_ERROR",message:"ネットワーク接続に問題があります。再試行してください。"}:(null==t?void 0:t.code)?t:{code:"UNKNOWN_ERROR",message:"予期しないエラーが発生しました。",details:t};throw console.error("エラーが発生しました (".concat(e.code,"): ").concat(e.message)),e}};return(0,r.jsx)(h,{form:t,errors:o,onChange:s,onSubmit:i})}},9915:(e,t,s)=>{Promise.resolve().then(s.bind(s,9326))}},e=>{e.O(0,[441,493,358],()=>e(e.s=9915)),_N_E=e.O()}]);