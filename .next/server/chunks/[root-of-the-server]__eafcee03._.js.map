{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/fork_lazy-bear/src/app/api/personas/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport { db } from \"@/lib/db/db\";\r\nimport { personas } from \"@/lib/db/schema\";\r\n\r\nexport async function POST(request: Request) {\r\n  try {\r\n    const body = await request.json();\r\n    const { weekdayHours, weekendHours, learningPattern } = body;\r\n\r\n    if (!weekdayHours || !weekendHours) {\r\n      return NextResponse.json(\r\n        { error: \"平日と週末の学習時間は必須です\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    if (\r\n      weekdayHours < 0 ||\r\n      weekdayHours > 24 ||\r\n      weekendHours < 0 ||\r\n      weekendHours > 24\r\n    ) {\r\n      return NextResponse.json(\r\n        { error: \"学習時間は0〜24時間の範囲で入力してください\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    const newPersona = await db\r\n      .insert(personas)\r\n      .values({\r\n        weekdayHours: weekdayHours.toString(),\r\n        weekendHours: weekendHours.toString(),\r\n        learningPattern: learningPattern || \"インプット先行パターン\",\r\n      })\r\n      .returning();\r\n\r\n    return NextResponse.json(\r\n      {\r\n        message: \"ペルソナが正常に作成されました\",\r\n        personas: newPersona[0],\r\n      },\r\n      { status: 201 }\r\n    );\r\n  } catch (error) {\r\n    console.error(\"ペルソナ作成エラー:\", error);\r\n    return NextResponse.json(\r\n      { error: \"ペルソナの作成に失敗しました\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;;;;;;;;;;;;;AAIO,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,YAAY,EAAE,YAAY,EAAE,eAAe,EAAE,GAAG;QAExD,IAAI,CAAC,gBAAgB,CAAC,cAAc;YAClC,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAkB,GAC3B;gBAAE,QAAQ;YAAI;QAElB;QAEA,IACE,eAAe,KACf,eAAe,MACf,eAAe,KACf,eAAe,IACf;YACA,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAA0B,GACnC;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,aAAa,MAAM,GACtB,MAAM,CAAC,UACP,MAAM,CAAC;YACN,cAAc,aAAa,QAAQ;YACnC,cAAc,aAAa,QAAQ;YACnC,iBAAiB,mBAAmB;QACtC,GACC,SAAS;QAEZ,OAAO,gJAAY,CAAC,IAAI,CACtB;YACE,SAAS;YACT,UAAU,UAAU,CAAC,EAAE;QACzB,GACA;YAAE,QAAQ;QAAI;IAElB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,cAAc;QAC5B,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAiB,GAC1B;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}