# Atomic Design 前提・目的（不変の原則）

この文書は、プロジェクトや技術スタックが変わっても基本的に変更しない **Atomic Design 導入の前提と目的** を定義する。

---

## 1. 前提

### 1-1. 対象範囲の前提

- 対象は **フロントエンドの UI レイヤー** とする。
- ビジネスロジック、インフラ構成、バックエンド API 設計は範囲外とする。
- 状態管理やデータフローは Atomic Design と連携するが、Atomic Design 単体では完全には規定しない。

---

### 1-2. プロダクト・チームに対する前提

Atomic Design を前提とするのは、少なくとも以下の条件を満たすケースとする。

- プロダクトは **継続的に運用・改善される長期プロジェクト** である。
- **複数人・継続的な開発体制** を前提とする。
- 画面数・コンポーネント数が時間とともに増加する。
- UI の変更・追加が継続的に発生する。

上記を満たさない場合（極端に小規模・短期の試作など）は、Atomic Design を前提とした設計を「必須」とはしない。

---

### 1-3. 設計観点の優先順位の前提

Atomic Design は、以下の優先順位に基づく設計方針を前提とする。

1. **UI の再利用性**
2. **UI の一貫性（見た目・振る舞いの統一）**
3. **責務分離による理解容易性・保守性**
4. **中長期的な開発速度**
5. **局所的な変更容易性・初期実装速度**

この前提により、次のような結果を許容する。

- 単発機能の実装速度が多少低下してもよい。
- 一部の変更が複数コンポーネントに及ぶことを許容する。
- 「その場で書いた方が早い」方針よりも、「階層構造に従って実装する」方針を優先する。

---

### 1-4. UI 分割に関する前提

Atomic Design を前提とする場合、UI は以下の方針で分割される。

- UI は必ず **階層構造（atoms → molecules → organisms → templates → pages）** で表現される。
- 各階層は **一意な役割（責務）** を持たなければならない。
- 依存方向は **下位 → 上位のみ** に制約される。
- 状態・副作用と、見た目・構造の責務は明確に分離される。

この前提により、次のような設計を禁止する。

- 階層を無視したコンポーネントの混在（例：atoms に副作用を持たせる）。
- 下位階層が上位階層に依存する設計。
- 一つのコンポーネントに複数階層分の責務を持たせる設計。

---

### 1-5. ドメイン知識・ロジックに関する前提

- **atoms / molecules はドメイン知識を持たない。**
- **atoms / molecules はバリデーション等のロジックを持たない。**
- ドメイン知識とロジックは以下の層に集約される。
  - pages
  - hooks / services（ページから呼び出される専用ロジック層）
  - 必要に応じて organisms（ただし表示構造レベルまでに制限）

この前提により、UI コンポーネントは **「見た目と構造」に専念し、意味付けや判断は上位レイヤーに集約される**。

---

### 1-6. 非目的・非前提（あえて保証しないもの）

Atomic Design の前提には、次の内容は含めない。

- すべての UI を Atomic Design の階層に必ず当てはめること。
- 小規模・短期プロジェクトに対する強制適用。
- UI 以外の領域（状態管理方式、API 設計、DB 設計など）の統一方法の決定。

これらは別の設計指針・ガイドラインで定義するものとし、Atomic Design の「不変の前提」には含めない。

---

## 2. 目的

### 2-1. 中長期的な開発速度の最大化

Atomic Design の第 1 の目的は、**中長期の開発速度を最大化すること** である。

- コンポーネントの再利用により、新規機能開発時の UI 実装コストを削減する。
- 修正を下位階層に集約することで、仕様変更に伴う修正範囲を制御する。
- 階層構造により、変更の影響範囲を把握しやすくする。

この目的のために、初期構築時のコスト増加を許容する。

---

### 2-2. UI 一貫性の維持

第 2 の目的は、**UI の一貫性を維持すること** である。

- atoms を通じて、色・タイポグラフィ・余白などのスタイルを共通化する。
- molecules / organisms を通じて、フォーム・カード・リストなどの UI パターンを統一する。
- デザインガイドラインやデザインシステムを、実装レイヤーに正確に反映する。

これにより、開発者ごとに UI の品質や表現がばらつく状況を抑制する。

---

### 2-3. 責務分離と理解容易性の向上

第 3 の目的は、**コンポーネントの責務を明確に分離し、理解しやすい構造を作ること** である。

- 「どの階層に何を書けばよいか」を明示することで、設計判断の迷いを減らす。
- コンポーネントの役割が階層名と一致するため、新規参画メンバーでも構造を追いやすくする。
- 状態・副作用と見た目・構造を分けることで、テスト・デバッグ・リファクタリングを容易にする。

---

### 2-4. チーム開発におけるコミュニケーションコストの削減

第 4 の目的は、**チーム内のコミュニケーションコストを削減すること** である。

- 「この UI はどの階層の責務か」を共通言語として扱える。
- コードレビュー時に、「階層ルールに沿っているか」を基準としたフィードバックが可能になる。
- 実装方針の議論を「どの階層で解決するか」に集約できる。

これにより、「人ごとに書き方が異なる」状態を抑制し、属人性を下げる。

---

### 2-5. 品質の下限保証

第 5 の目的は、**UI 実装の品質における下限値を固定すること** である。

- atoms / molecules / organisms を通じて、「最低限守るべき UI の品質」をコンポーネントとして提供する。
- 新規実装がこれらを利用することで、一定以上の品質を自動的に満たす構造にする。
- 個々の開発者のスキル差による品質のばらつきを抑制する。

---

### 2-6. 明確に「目的ではない」もの

Atomic Design の目的には、次の内容は含めない。

- 初期の実装速度の最大化。
- すべての問題を階層構造だけで解決すること。
- 特定のフレームワーク（React / Vue 等）の利用自体を目的とすること。

これらは別軸で判断する事項であり、Atomic Design は **あくまで UI 構造と責務分離に関する原則** に限定する。

---
