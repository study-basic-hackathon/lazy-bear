# lazy-bear プロジェクト概要

このドキュメントは、AI開発エージェントが`lazy-bear`プロジェクトを理解し、貢献するために必要な基本情報を提供します。

## 1. プロジェクトの核心的な目的

生成AIを活用し、指定された資格取得のための学習計画（ステップとタスク）を自動生成し、ガントチャートとして可視化するWebアプリケーションを構築すること。

## 2. システム概要

### 2.1. 技術スタック
- **アプリケーションフレームワーク**: Next.js 15+ (App Router)
- **言語**: TypeScript
- **データベース**: PostgreSQL
- **ORM**: Drizzle
- **AI**: Google Vertex AI
- **UI**: Tailwind CSS
- **コンテナ技術**: Docker

### 2.2. アーキテクチャ
- Next.jsによるモノリシックなアプリケーションです。
- フロントエンドとバックエンドはNext.jsフレームワーク内で密に結合されています。
- データベース操作はDrizzle ORMを介して行われます。スキーマは `app/src/lib/db/schema/` に配置されています。
- 学習計画を生成するAIロジックは、Vertex AIクライアントと対話するサービス内にカプセル化されるべきです。

## 3. プロジェクト構造

```
lazy-bear/
├───app/                  # Next.jsアプリケーションのメインディレクトリ
│   ├───package.json      # 依存関係とスクリプト定義
│   └───src/
│       ├───app/          # ページとUIコンポーネント (App Router)
│       └───lib/
│           └───db/       # Drizzle ORM (スキーマ, マイグレーション)
├───docs/                 # プロジェクト計画・設計ドキュメント
├───docker/               # 開発環境用のDockerfile
│   ├───nextjs/
│   └───postgresql/
└───docker-compose.yml    # 開発環境のサービス定義
```

## 4. 開発ワークフロー

### 4.1. 初期セットアップ
1. Dockerが起動していることを確認します。
2. プロジェクトルートで `docker-compose up --build -d` を実行し、アプリケーションとデータベースのコンテナをビルド・起動します。
3. 依存関係は `app` ディレクトリ内で管理されます。必要に応じて、コンテナに接続して `npm install` を実行してください。

### 4.2. 主要なスクリプト
これらのスクリプトは `app/package.json` で定義されており、`app` コンテナまたはディレクトリ内で実行する必要があります。
- `npm run dev`: Next.jsの開発サーバーをTurbopackで起動します。
- `npm run build`: 本番用にアプリケーションをTurbopackでビルドします。
- `npm run start`: 本番サーバーを起動します。
- `npm run lint`: ESLintを実行し、コード品質をチェックします。

## 5. MVPのスコープと目標

最小実行可能製品（MVP）として、以下の機能を提供することが最優先の目標です。
- **ユーザー入力**: 資格名、学習開始日、期限を入力するフォーム。
- **AIによる生成**:
  - Vertex AIを使い、試験分野とその配点リストを取得する。
  - Vertex AIを使い、学習のための高レベルな「ステップ」を生成する。
  - Vertex AIを使い、各ステップに紐づく具体的な「タスク」（開始日・終了日付き）を生成する。
- **表示**:
  - 生成されたステップとタスクをガントチャートで表示する。
- **データ永続化**:
  - 生成された計画（プロジェクト、ステップ、タスク、配点）をPostgreSQLデータベースに保存する。
- **手動修正**:
  - AIが生成した配点をユーザーが手動で編集できるようにする。
